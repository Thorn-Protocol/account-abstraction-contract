{
  "address": "0x312Bb32A60453e20A57D829497cA9d1d572aAb04",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        }
      ],
      "name": "AlreadyInited",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        }
      ],
      "name": "NoOwnerRegisteredForSmartAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "WrongSignatureLength",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAddressNotAllowedAsOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NAME",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "password",
          "type": "string"
        }
      ],
      "name": "initForSmartAccount",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "password",
          "type": "string"
        }
      ],
      "name": "setPassword",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "validate",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xdbffdfb9f43b8593d0f46a5c58e0db97fb9295401b69b9b796910407bb8ec903",
  "receipt": {
    "to": "0x914d7Fec6aaC8cd542e72Bca78B30650d45643d7",
    "from": "0x3Ec7289Ee996f8320451EcE2CB16eb5F0828F210",
    "contractAddress": null,
    "transactionIndex": 0,
    "gasUsed": "246035",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x1fea71d207b530f27e7958905402a2cce3da6fe85dcbdee447e9057403ccdc39",
    "transactionHash": "0xdbffdfb9f43b8593d0f46a5c58e0db97fb9295401b69b9b796910407bb8ec903",
    "logs": [],
    "blockNumber": 6180059,
    "cumulativeGasUsed": "246035",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 2,
  "solcInputHash": "b695043e4d1e3263b97ddb6b35a449fc",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"smartAccount\",\"type\":\"address\"}],\"name\":\"AlreadyInited\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"smartAccount\",\"type\":\"address\"}],\"name\":\"NoOwnerRegisteredForSmartAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WrongSignatureLength\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddressNotAllowedAsOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NAME\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"password\",\"type\":\"string\"}],\"name\":\"initForSmartAccount\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"password\",\"type\":\"string\"}],\"name\":\"setPassword\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"validate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/modules/KeyManagementContractRegistryModule/modules/PasswordKMM.sol\":\"PasswordKMM\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/modules/KeyManagementContractRegistryModule/modules/PasswordKMM.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.17;\\r\\n\\r\\ncontract PasswordKMM {\\r\\n    string public constant NAME = \\\"Password Module For Key Management\\\";\\r\\n\\r\\n    mapping(address => bytes32) private _passwordTable;\\r\\n\\r\\n    error AlreadyInited(address smartAccount);\\r\\n    error ZeroAddressNotAllowedAsOwner();\\r\\n    error NoOwnerRegisteredForSmartAccount(address smartAccount);\\r\\n    error WrongSignatureLength();\\r\\n\\r\\n    function initForSmartAccount(\\r\\n        string memory password\\r\\n    ) external returns (address) {\\r\\n        if (_passwordTable[msg.sender] == bytes32(0))\\r\\n            revert AlreadyInited(msg.sender);\\r\\n        _passwordTable[msg.sender] = keccak256(bytes(password));\\r\\n        return address(this);\\r\\n    }\\r\\n\\r\\n    function setPassword(string memory password) external {\\r\\n        if (_passwordTable[msg.sender] == bytes32(0))\\r\\n            revert AlreadyInited(msg.sender);\\r\\n        _passwordTable[msg.sender] = keccak256(bytes(password));\\r\\n    }\\r\\n\\r\\n    function validate(\\r\\n        bytes calldata data\\r\\n    ) external view virtual returns (bool) {\\r\\n        string memory password = abi.decode(data, (string));\\r\\n\\r\\n        if (_verifySignature(keccak256(bytes(password)), msg.sender)) {\\r\\n            return true;\\r\\n        }\\r\\n        return false;\\r\\n    }\\r\\n\\r\\n    function _verifySignature(\\r\\n        bytes32 hashedPassword,\\r\\n        address smartAccount\\r\\n    ) internal view returns (bool) {\\r\\n        bytes32 expectedPasswordHash = _passwordTable[smartAccount];\\r\\n\\r\\n        return (expectedPasswordHash == hashedPassword);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Checks if the address provided is a smart contract.\\r\\n     * @param account Address to be checked.\\r\\n     */\\r\\n    function _isSmartContract(address account) internal view returns (bool) {\\r\\n        uint256 size;\\r\\n        assembly {\\r\\n            size := extcodesize(account)\\r\\n        }\\r\\n        return size > 0;\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x3181eaad07ce641038510a18dc681cafff5830b84d47711b108ce7cfab598691\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608080604052346100165761036f908161001c8239f35b600080fdfe6040608081526004908136101561001557600080fd5b6000803560e01c8063290bb453146101c65780634a1a4cea14610175578063a3f4df7e146100b25763c16e50ef1461004c57600080fd5b346100ab5760203660031901126100ab5782359067ffffffffffffffff938483116100ae57366023840112156100ae578201359384116100ab5736602485840101116100ab575060209260246100a292016102be565b90519015158152f35b80fd5b5080fd5b509134610171578260031936011261017157815190606082019082821067ffffffffffffffff83111761015e57508252602281526020907f50617373776f7264204d6f64756c6520466f72204b6579204d616e6167656d6582820152611b9d60f21b8382015282519382859384528251928382860152825b84811061014857505050828201840152601f01601f19168101030190f35b818101830151888201880152879550820161012a565b634e487b7160e01b855260419052602484fd5b8280fd5b50346100ab5761018436610255565b923382528160205282822054156101af57508183602080955191012091338152808552205551308152f35b6024908351906383a4eee360e01b82523390820152fd5b509134610171576101d636610255565b903384528360205282842054156101af575060208151910120903383528260205282205580f35b6040519190601f01601f1916820167ffffffffffffffff81118382101761022357604052565b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff811161022357601f01601f191660200190565b60206003198201126102b95760043567ffffffffffffffff81116102b957816023820112156102b95780600401359061029561029083610239565b6101fd565b92828452602483830101116102b95781600092602460209301838601378301015290565b600080fd5b90810160209182818303126102b95780359067ffffffffffffffff82116102b957019080601f830112156102b95781356102fa61029082610239565b90808252848201928582860101116102b9578481600095928287940186378301015251902091338252526040600020541461033457600090565b60019056fea2646970667358221220697468922920a0c948a0eed42ec7a87edb05bdcf9a1124043151d46b4c8262ce64736f6c63430008110033",
  "deployedBytecode": "0x6040608081526004908136101561001557600080fd5b6000803560e01c8063290bb453146101c65780634a1a4cea14610175578063a3f4df7e146100b25763c16e50ef1461004c57600080fd5b346100ab5760203660031901126100ab5782359067ffffffffffffffff938483116100ae57366023840112156100ae578201359384116100ab5736602485840101116100ab575060209260246100a292016102be565b90519015158152f35b80fd5b5080fd5b509134610171578260031936011261017157815190606082019082821067ffffffffffffffff83111761015e57508252602281526020907f50617373776f7264204d6f64756c6520466f72204b6579204d616e6167656d6582820152611b9d60f21b8382015282519382859384528251928382860152825b84811061014857505050828201840152601f01601f19168101030190f35b818101830151888201880152879550820161012a565b634e487b7160e01b855260419052602484fd5b8280fd5b50346100ab5761018436610255565b923382528160205282822054156101af57508183602080955191012091338152808552205551308152f35b6024908351906383a4eee360e01b82523390820152fd5b509134610171576101d636610255565b903384528360205282842054156101af575060208151910120903383528260205282205580f35b6040519190601f01601f1916820167ffffffffffffffff81118382101761022357604052565b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff811161022357601f01601f191660200190565b60206003198201126102b95760043567ffffffffffffffff81116102b957816023820112156102b95780600401359061029561029083610239565b6101fd565b92828452602483830101116102b95781600092602460209301838601378301015290565b600080fd5b90810160209182818303126102b95780359067ffffffffffffffff82116102b957019080601f830112156102b95781356102fa61029082610239565b90808252848201928582860101116102b9578481600095928287940186378301015251902091338252526040600020541461033457600090565b60019056fea2646970667358221220697468922920a0c948a0eed42ec7a87edb05bdcf9a1124043151d46b4c8262ce64736f6c63430008110033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/modules/KeyManagementContractRegistryModule/modules/PasswordKMM.sol:PasswordKMM",
        "label": "_passwordTable",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_bytes32)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_bytes32)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bytes32)",
        "numberOfBytes": "32",
        "value": "t_bytes32"
      }
    }
  }
}